<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title></title>
        <style type="text/css">
            .block{
                counter-reset:linecounter;
                display:flex;
                display:-webkit-flex;
                flex-direction:column;
                -webkit-flex-direction: column;
                box-orient:vertical;
                box-pack:center;
                box-align:center;
                width:100%;
            }
            .block > span{
                counter-increment:linecounter;
                width:100%;
                display:flex;
                display: -webkit-flex;
                white-space:pre;
                border-collapse:collapse;
            }
            .block > span:nth-child(odd){
                /*background-color:#B2F0FF;*/
                /*background-color:#FFE4DA;*/
                background-color:#eff3ff;
            }
            .block > span:nth-child(even){
                /*background-color:#FFE1E6;*/
                /*background-color:#F5DBD1;*/
                background-color:#c6dbef;
            }
            .block > span::before{
                color:gray;
                font-size:80%;
                content:counter(linecounter);
                float:left; /*http://stackoverflow.com/questions/19439079/css-before-pseudo-element-line-height*/
                min-width:2.5em;
                display:block;
                margin-right:3px;
                text-align:right;
                padding-right:3px;
                border-right: gray 1px solid;
            }</style>
    </head>
    <body>
        <pre class="block"><span>First line</span><span>Very very very very very very very very very very very very very very very end
very very very very very very very very very very very very very very very end
very very long second line</span><span>Third line</span></pre>
        <p>Hi</p>
        <pre class="block"><span>First line</span>
    <span>     Very very very very very very very very very very very very very very very very long second line</span>
<span>Third line</span></pre>
    </body>
</html>
